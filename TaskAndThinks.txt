1. убрать иерархию строений, добавить вместо этого интерфейсы. Например IBuyer, ISeller, ISellerInstrument.
2. создать класс для менеджмента инструментов, который знает какому здания какие нужны. и обеспечить внутри него изымание из факбрик инструментов и последующую установку инструментов на разные виды фабрик.
3. Изменить диаграму классов в соответствии с текущими связями.
4. добавить логи для отслеживания всех операций. 
5. выполнить простую тестировку